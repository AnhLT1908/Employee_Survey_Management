@{
    ViewData["Title"] = "Trang chủ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container py-4">
    <div class="d-flex align-items-center mb-3">
        <h3 class="m-0 me-3">Trang chủ</h3>
        <span class="text-muted">Chọn chức năng để bắt đầu</span>
    </div>

    <!-- Tabs điều hướng -->
    <ul class="nav nav-pills mb-4">
        <li class="nav-item">
            <a class="nav-link active" asp-controller="Profile" asp-action="Index">Quản lý hồ sơ cá nhân</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" asp-controller="Surveys" asp-action="Index">Quản lý bài khảo sát</a>
        </li>
    </ul>

    <!-- Lưới thẻ chức năng -->
    <div class="row row-cols-1 row-cols-sm-2 g-3">
        <div class="col">
            <a class="text-decoration-none" asp-controller="Profile" asp-action="Index">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title m-0">Quản lý hồ sơ cá nhân</h5>
                        <p class="card-text text-muted">
                            Xem và chỉnh sửa thông tin cá nhân, tài khoản và mật khẩu.
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <div class="col">
            <a class="text-decoration-none" asp-controller="Surveys" asp-action="Index">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title m-0">Quản lý bài khảo sát</h5>
                        <p class="card-text text-muted">
                            Tham gia khảo sát, xem lại kết quả và tiến trình khảo sát.
                        </p>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        (function () {
          const t = sessionStorage.getItem('dev_jwt');
          if (t) {
            console.log('JWT (dev) on Home:', t);
          }
          fetch('/api/auth/me', { credentials: 'same-origin' })
            .then(r => r.json())
            .then(d => console.log('Auth /api/auth/me:', d))
            .catch(err => console.warn('auth/me error', err));
        })();
    </script>
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin.css" asp-append-version="true" />

    <style>
        /* Giữ lại style như admin */
        .container.py-4 > .d-flex h3 {
            font-weight: 700;
        }

        .container.py-4 > .d-flex .text-muted {
            color: #6c757d !important;
        }

        .nav.nav-pills .nav-link {
            border-radius: 9999px;
            padding: .5rem 1rem;
            background: #f5f7fb;
            color: #495057;
            border: 1px solid #e9edf3;
            margin-right: .5rem;
            transition: background .2s,color .2s,box-shadow .2s,border-color .2s;
        }

            .nav.nav-pills .nav-link:hover {
                background: #eef2ff;
                color: #0d6efd;
                border-color: #dbe6ff;
                box-shadow: 0 .25rem .75rem rgba(13,110,253,.15);
            }

            .nav.nav-pills .nav-link.active {
                color: #fff !important;
                background: #0d6efd !important;
                border-color: #0d6efd !important;
                box-shadow: 0 .5rem 1.25rem rgba(13,110,253,.25);
            }

        .row .card {
            border: 1px solid #eef1f4;
            border-radius: 1rem;
            box-shadow: 0 .25rem 1rem rgba(140,152,164,.08);
            transition: transform .15s, box-shadow .15s, border-color .15s;
        }

            .row .card .card-body {
                padding: 1rem 1.25rem;
            }

            .row .card:hover {
                transform: translateY(-3px);
                box-shadow: 0 .9rem 2rem rgba(140,152,164,.16);
                border-color: #e6ebf1;
            }

                .row .card:hover .card-title {
                    color: #0d6efd;
                }

            .row .card .card-title {
                font-weight: 600;
            }

            .row .card .card-text {
                color: #6c757d;
            }

            .nav.nav-pills .nav-link:focus-visible,
            .row .card:focus-within {
                outline: 0;
                box-shadow: 0 0 0 .25rem rgba(13,110,253,.25);
                border-color: #b9d3ff;
            }
        @@media (prefers-reduced-motion: reduce) {
            .nav .nav-link, .row .card

        {
            transition: none;
        }

        }
    </style>
}
